<% require_relative '../models/tag.rb' %>

<main>
  <h1>Create Bookmark</h1>
  <form action="/create_bookmark" method="post" class="adding_bookmark">
    <label for="title">Title:</label>
    <input type="text" id="title" name="title">
    <label for="description">Description:</label>
    <input type="text" id="description" name="description">
    <label for="url">URL:</label>
    <input type="url" id="url" name="url">
    <label for="tags">Tags:</label>
    <input name="tags" id="tags" type="hidden">
    <input name="createTags" id="createTags" type="hidden">
      <div id="tagArea"></div>
    <input placeholder="Type to search or create a new tag:" id="input" oninput="searchTag()">
    <% # get all the tags %>
    <% tags = Tag.all() %>
        <ul id="tagsList">
    <% if tags.length != 0 %>
      <% tags.each do | tag | %>
        <li onclick="addTag(<%= tag[:id] %>,'<%= tag[:name] %>')"><div><%= tag[:name] %></div></li>
      <% end %>
        </ul>
    <% end %>

    <label>Private</label>
    <input type="checkbox" name="pub" value="0">
    <input type="submit" class="button4" id="add_bookmarks">  
  </form>
    <p><%= @message %></p>
</main>
<script src="/scripts/tag.js"></script>
